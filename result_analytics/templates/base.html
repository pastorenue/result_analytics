<!DOCTYPE html>
<html>
  <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <meta name="description" content="Students' Result- Collaboration Platform (Grade-X)">

        <title>Grade-X | {% block title %}{% endblock %}</title>
        {% load staticfiles notifications_tags %}

        <link rel="shortcut icon" type="image/png" href="{% static 'images/favicon.ico' %}"/>

        <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
        <link rel="stylesheet" href="{% static 'css/bootstrap-responsive.css' %}"/>
        <link rel="stylesheet" href="{% static 'css/bootstrap-timepicker.min.css' %}"/>
        <link rel="stylesheet" href="{% static 'css/carousel.css' %}"/>
        <link rel="stylesheet" href="{% static 'css/jquery-ui.custom.min.css' %}"/>
        <link rel="stylesheet" href="{% static 'css/font-awesome.min.css' %}"/>
        <link rel="stylesheet" href="{% static 'css/main.css' %}"/>
        <link rel="stylesheet" href="{% static 'css/analytics-icons.css' %}"/>
        <link rel="stylesheet" href="{% static 'css/profiles.css' %}"/>
        <link rel="stylesheet" href="{% static 'css/pace-theme-flash.css' %}"/>
        <style>
            input[type="text"]:focus, input[type="password"]:focus {
                box-shadow: none !important;
                text-align: center;
                border: none !important;
                border-bottom: 1px solid #34495e !important;
                
            }
        </style>
        {% block extra_css %}{% endblock %}
  </head>
  <body>
  {% if messages %}
      {% for message in messages %}
      <div id="notification" class="alert-{{message.tags}}" style="">
        <div><span onclick="hideMe()">&times;</span></div>
        <h4><strong>{{message.tags|title}}</strong></h4>
        <h5>{{ message }}</h5>
      </div>
      {% endfor %}
    {% endif %}
    <div class="row">
	    <div style="text-align: center; padding: 20px; background: linear-gradient(to right, #141E30, #243B55); max-width: 100%; overflow-x: hidden;">
		    <nav class="navbar navbar-default" style="color: #fff;">
		        <div class="container-fluid">
		          <div class="navbar-header">
		            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
		              <span class="sr-only">Toggle navigation</span>
		              <span class="icon-bar"></span>
		              <span class="icon-bar"></span>
		              <span class="icon-bar"></span>
		            </button>
		          </div>
		          <div id="navbar" class="navbar-collapse collapse">
		            <ul class="nav navbar-nav">
                    <li onclick="location.href='{% url 'user_index' %}'" style="cursor: pointer;">
                        <img src="{% static 'svg/gx-logo-3.svg' %}" alt="GRADE-X" width="40" height="50">
                        <h4 style="display: inline-block; font-weight: 600; margin: 0 10px 0 0;">Grade-X</h4>
                    </li>
		              <li><a href="#">How it Works</a></li>
		              <li><a href="#">Pricing</a></li>
		              <li><a href="#">Request a Demo</a></li>
		            </ul>
		            <ul class="nav navbar-nav navbar-right">
		            	<li><a href="">Meet The Geeks</a></li>
		              <li><a href="">Can We Talk?</a></li>
		              <li><a href="">Our Core Values</a></li>
		              <li><a href="{% url 'result_login' %}">Log In</a></li>
		            </ul>
		          </div><!--/.nav-collapse -->
		        </div><!--/.container-fluid -->
		      </nav>
	    	{% block slide %}
            <div style="padding: 20px; color: #f46b45;">
	            <h1><strong>Hi! This is Grade-X</strong></h1>
	            <h4>Glad you made it here today</h4>
	        </div>
            {% endblock %}
	    </div>
    </div>
    <div class="container">
        <div class="row">
        {% block content %}
            <div class="col-md-5 center-block login">
                <div class="panel panel-default" style="padding: 10px 25px;" >
                    <div class="sub-panel" style="text-align: center; font-size: 1.2em;">
                        <h3><strong>Sign In</strong></h3>
                    </div>
                    <div class="panel-body">
                        <form id="login" method= 'post' >{% csrf_token %}
                            {% for field in form %}
                            <div class="form-group">
                            <label for="{{field.id_for_label}}">{{field.label}}</label>
                            {% if field.html_name == 'username' %}
                            <input id="{{field.id_for_label}}" name="{{field.html_name}}" type="text" class="form-control" placeholder="Username" style="text-align: center;">
                            {% else %}
                            <input id="{{field.id_for_label}}" name="{{field.html_name}}" type="password" class="form-control" placeholder="Password" style="text-align: center;">
                            {% endif %}
                            </div>
                            {% endfor %}
                            <div class="form-group">
                                <div  style="padding: 10px 0; text-align: center;">
                                    <a href="{% url 'result_password_reset' %}">Forgot Password?</a><br>
                                </div>
                                <button id="submit" type="submit" class="btn btn-sm custom-btn btn-block"><i></i> Login</button>
                               <input type="hidden" name="next" value="{{ next }}">
                            </div>
                        </form>
                    </div> 
                </div>
                <div class="new-signup">
                    <div style="margin-bottom: 10px;">
                        <h5 style="margin-bottom: 0;">New to Grade-X? Sign Up Below</h5> 
                        <small style="color: #fff;">[Check if you already have an account through your school]</small><br>
                    </div>
                    <div class="form-group"> 
                        <button id="sign" class="btn btn-sm custom-btn">Custom Sign Up</button>
                        <button id="check_reg" class="btn btn-sm custom-btn" type="button" onclick="validate_show();">Check with Reg Number</button>
                    </div>
                    <div>
                        <h3>{{response}}</h3>
                    </div>
                </div> 
                <div id="validate" class="validate">
                    <form method="POST" action="{% url 'check_user' %}">{% csrf_token %}
                        <div class="form-group">
                            <input class="form-control form-check" type="text" name="check" placeholder="Enter your Reg Number">
                        </div>
                        <div class="form-group">
                            <button class="btn btn-sm custom-btn" type="button" onclick="cancel();">Cancel</button>
                            <button class="btn btn-sm custom-btn" type="submit">Confirm Reg Number</button>
                        </div>
                    </form>
                </div>               
            </div>
        {% endblock %}
        </div>
    </div>
    
    <script src="{% static 'js/jquery.js' %}" type="text/javascript"></script>
    <script type="text/javascript" href="{% static 'js/jquery-ui.custom.min.js' %}"></script>
    <script type="text/javascript" href="{% static 'js/main.js' %}"></script>
    <script src="{% static 'js/highcharts.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/bootstrap.min.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/pace.min.js' %}" type="text/javascript"></script>
    <script src="{% static 'js/jquery.tinymce.min.js' %}" type="text/javascript"></script>
     <script>
          function hideMe(){
            $("#notification").hide('slideUp');
          }
          setTimeout(function() {
            $("#notification").slideUp(1000)
          }, 6000);
    </script>
    <script>
        $(document).ready(function() {
            $('#id_username').focus();
            $('#validate').hide();
        });

        function validate_show() {
            $("#validate").show('fadeIn');
            $("#sign").hide();
            $("#check_reg").hide();
        }

        function cancel() {
            $("#check_reg").show();
            $("#sign").show();
            $("#validate").hide('fadeOut');
        }
    </script>
    <script>
      $(function() {
      $("#login").submit(function(){
          $('i').addClass('icons icons-sm icons-spinner icons-spin');   
      });
  });
    </script>
    <script>
      !function() {
        var t;
        if (t = window.driftt = window.drift = window.driftt || [], !t.init) return t.invoked ? void (window.console && console.error && console.error("Drift snippet included twice.")) : (t.invoked = !0, 
        t.methods = [ "identify", "config", "track", "reset", "debug", "show", "ping", "page", "hide", "off", "on" ], 
        t.factory = function(e) {
          return function() {
            var n;
            return n = Array.prototype.slice.call(arguments), n.unshift(e), t.push(n), t;
          };
        }, t.methods.forEach(function(e) {
          t[e] = t.factory(e);
        }), t.load = function(t) {
          var e, n, o, i;
          e = 3e5, i = Math.ceil(new Date() / e) * e, o = document.createElement("script"), 
          o.type = "text/javascript", o.async = !0, o.crossorigin = "anonymous", o.src = "https://js.driftt.com/include/" + i + "/" + t + ".js", 
          n = document.getElementsByTagName("script")[0], n.parentNode.insertBefore(o, n);
        });
      }();
      drift.SNIPPET_VERSION = '0.3.1';
      drift.load('iztpvd7wbr5k');
    </script>
    {% block extrajs %}
    {% endblock %}
  </body>
</html>
